!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).SmoothDnD={})}(this,function(o){"use strict";var i,r="smooth-dnd-container-instance",v="smooth-dnd-draggable-wrapper",a="animated",g="__smooth_dnd_draggable_translation_value",m="__smooth_dnd_draggable_visibility_value",p="smooth-dnd-ghost",b="smooth-dnd-container",h="smooth-dnd-extra-size-for-insertion",w="smooth-dnd-stretcher-element",x="smooth-dnd-stretcher-instance",l="smooth-dnd-disable-touch-action",E="smooth-dnd-no-user-select",C="smooth-dnd-prevent-auto-scroll-class",S="smooth-dnd-drop-preview-default-class",D="smooth-dnd-drop-preview-inner-class",O="smooth-dnd-drop-preview-constant-class",R="smooth-dnd-drop-preview-flex-container-class",A=Object.freeze({containerInstance:r,defaultGroupName:"@@smooth-dnd-default-group@@",wrapperClass:v,defaultGrabHandleClass:"smooth-dnd-default-grap-handle",animationClass:a,translationValue:g,visibilityValue:m,ghostClass:p,containerClass:b,extraSizeForInsertion:h,stretcherElementClass:w,stretcherElementInstance:x,isDraggableDetached:"smoth-dnd-is-draggable-detached",disbaleTouchActions:l,noUserSelectClass:E,preventAutoScrollClass:C,dropPlaceholderDefaultClass:S,dropPlaceholderInnerClass:D,dropPlaceholderWrapperClass:O,dropPlaceholderFlexContainerClass:R}),I={groupName:void 0,behaviour:"move",orientation:"vertical",getChildPayload:void 0,animationDuration:250,autoScrollEnabled:!0,shouldAcceptDrop:void 0,shouldAnimateDrop:void 0};function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}($=i=i||{}).x="x",$.y="y",$.xy="xy";function z(e){var t=(e=window.getComputedStyle(e)).overflow;return"auto"===t||"scroll"===t?i.xy:(t="auto"===(t=e["overflow-x"])||"scroll"===t,e="auto"===(e=e["overflow-y"])||"scroll"===e,t&&e?i.xy:t?i.x:e?i.y:null)}function N(e,t){var n=(e=window.getComputedStyle(e)).overflow,e=e["overflow-".concat(t)];return"auto"===n||"scroll"===n||("auto"===e||"scroll"===e)}function L(e,t){for(var n=e,o=t||_(e),n=e.parentElement;n;)V(n,"x")&&F(n,"x")&&(o=j(o,n.getBoundingClientRect(),"x")),V(n,"y")&&F(n,"y")&&(o=j(o,n.getBoundingClientRect(),"y")),n=n.parentElement;return o}function M(e,t){return-1<e.className.split(" ").map(function(e){return e}).indexOf(t)}var j=function(e,t,n){return"x"===n?{left:Math.max(e.left,t.left),top:e.top,right:Math.min(e.right,t.right),bottom:e.bottom}:{left:e.left,top:Math.max(e.top,t.top),right:e.right,bottom:Math.min(e.bottom,t.bottom)}},_=function(e){var t,n=e.getBoundingClientRect(),n={left:n.left,right:n.right,top:n.top,bottom:n.bottom};return V(e,"x")&&!F(e,"x")&&(t=n.right-n.left,n.right=n.right+e.scrollWidth-t),V(e,"y")&&!F(e,"y")&&(t=n.bottom-n.top,n.bottom=n.bottom+e.scrollHeight-t),n},F=function(e,t){var e=window.getComputedStyle(e),n=e.overflow,e=e["overflow-".concat(t)];return"auto"===n||"scroll"===n||"hidden"===n||("auto"===e||"scroll"===e||"hidden"===e)},V=function(e,t){return"x"===t?e.scrollWidth>e.clientWidth:e.scrollHeight>e.clientHeight},X=function(e,t){for(var n=[],o=e;o;)(N(o,"x")||N(o,"y"))&&n.push(o),o=o.parentElement;function r(){n&&(n.forEach(function(e){return e.removeEventListener("scroll",t)}),window.removeEventListener("scroll",t))}return{dispose:function(){r(),n=null},start:function(){n&&(n.forEach(function(e){return e.addEventListener("scroll",t)}),window.addEventListener("scroll",t))},stop:r}},H=function(e,t){for(var n=e;n;){if(n.matches(t))return n;n=n.parentElement}return null},Y=function(e,t){var n;!e||-1===(n=e.className.split(" ").filter(function(e){return e})).indexOf(t)&&(n.unshift(t),e.className=n.join(" "))},k=function(e,t){var n;e&&(n=e.className.split(" ").filter(function(e){return e&&e!==t}),e.className=n.join(" "))},G=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():window.document.selection&&window.document.selection.empty()},W=function(e){if(e){e=window.getComputedStyle(e);if(e)return e.cursor}return null};function q(e){return!(e.bottom<=e.top||e.right<=e.left)}function U(e){var l=e.element,s=e.draggables;return function(e,t){var n,o=e.removedIndex,r=e.addedIndex,i=e.droppedElement,a=null;null!==o&&(a=l.removeChild(l.children[o]),s.splice(o,1)),null!==r&&((o=window.document.createElement("div")).className="".concat(v),o.appendChild(a&&a.firstElementChild?a.firstElementChild:i),a=o,(i=r)>=(n=l).children.length?n.appendChild(a):n.insertBefore(a,n.children[i]),r>=s.length?s.push(o):s.splice(r,0,o)),t&&t(e)}}var $=Object.freeze({domDropHandler:U,reactDropHandler:function(){return{handler:function(){return function(e,t){t&&t(e)}}}}}),J={size:"offsetWidth",distanceToParent:"offsetLeft",translate:"transform",begin:"left",end:"right",dragPosition:"x",scrollSize:"scrollWidth",offsetSize:"offsetWidth",scrollValue:"scrollLeft",scale:"scaleX",setSize:"width",setters:{translate:function(e){return"translate3d(".concat(e,"px, 0, 0)")}}},K={size:"offsetHeight",distanceToParent:"offsetTop",translate:"transform",begin:"top",end:"bottom",dragPosition:"y",scrollSize:"scrollHeight",offsetSize:"offsetHeight",scrollValue:"scrollTop",scale:"scaleY",setSize:"height",setters:{translate:function(e){return"translate3d(0,".concat(e,"px, 0)")}}};function Q(o){return{get:function(e,t){return e[o[t]||t]},set:function(e,t,n){e[o[t]]=o.setters[t]?o.setters[t](n):n}}}function Z(n,l){n[h]=0;var o=Q("horizontal"===l?J:K),s={translation:0};function e(){var e,t;r(n),t=(e=n).getBoundingClientRect(),s.scaleX=e.offsetWidth?(t.right-t.left)/e.offsetWidth:1,s.scaleY=e.offsetHeight?(t.bottom-t.top)/e.offsetHeight:1}function r(e){s.rect=_(e);e=L(e,s.rect);q(e)&&(s.lastVisibleRect=s.visibleRect),s.visibleRect=e}function i(e){var t=e;return t.tagName?(t=t.getBoundingClientRect(),"vertical"===l?t.bottom-t.top:t.right-t.left):o.get(e,"size")*o.get(s,"scale")}function t(e){return o.get(e,"dragPosition")}return window.addEventListener("resize",function(){r(n)}),setTimeout(function(){e()},10),{getSize:i,getContainerRectangles:function(){return{rect:s.rect,visibleRect:s.visibleRect,lastVisibleRect:s.lastVisibleRect}},getBeginEndOfDOMRect:function(e){return{begin:o.get(e,"begin"),end:o.get(e,"end")}},getBeginEndOfContainer:function(){return{begin:o.get(s.rect,"begin")+s.translation,end:o.get(s.rect,"end")+s.translation}},getBeginEndOfContainerVisibleRect:function(){return{begin:o.get(s.visibleRect,"begin")+s.translation,end:o.get(s.visibleRect,"end")+s.translation}},getBeginEnd:function(e){t=e;var t=(o.get(t,"distanceToParent")+(t[g]||0))*o.get(s,"scale")+(o.get(s.rect,"begin")+s.translation)-o.get(n,"scrollValue");return{begin:t,end:t+i(e)*o.get(s,"scale")}},getAxisValue:t,setTranslation:function(e,t){t?o.set(e.style,"translate",t):e.style.removeProperty("transform"),e[g]=t},getTranslation:function(e){return e[g]},setVisibility:function(e,t){void 0!==e[m]&&e[m]===t||(t?e.style.removeProperty("visibility"):e.style.visibility="hidden",e[m]=t)},isVisible:function(e){return void 0===e[m]||e[m]},isInVisibleRect:function(e,t){var n=s.visibleRect,o=n.left,r=n.top,i=n.right,a=((n=n.bottom)-r<2&&(n=r+30),s.rect);return"vertical"===l?e>a.left&&e<a.right&&r<t&&t<n:o<e&&e<i&&t>a.top&&t<a.bottom},setSize:function(e,t){o.set(e,"setSize",t)},getTopLeftOfElementBegin:function(e){var t=0;return{top:"horizontal"===l?(t=e,s.rect.top):(t=s.rect.left,e),left:t}},getScrollSize:function(e){return o.get(e,"scrollSize")},getScrollValue:function(e){return o.get(e,"scrollValue")},setScrollValue:function(e,t){return o.set(e,"scrollValue",t)},invalidate:e,invalidateRects:function(){r(n)},getPosition:t,setBegin:function(e,t){o.set(e,"begin",t)}}}var ee=1500;function te(e,t,n){var o,r,i=n.left,a=n.right,l=n.top,n=n.bottom,s=e.x,e=e.y;if(s<i||a<s||e<l||n<e)return null;t="x"===t?(o=i,r=a,s):(o=l,r=n,e),i=r-o,a=400<i?100:i/4;return r-t<a?{direction:"end",speedFactor:(a-(r-t))/a}:t-o<a?{direction:"begin",speedFactor:(a-(t-o))/a}:null}function ne(e,t,n){e&&(e!==window?"x"===t?e.scrollLeft+=n:e.scrollTop+=n:"x"===t?e.scrollBy(n,0):e.scrollBy(0,n))}function oe(o){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"y",i=null,a=null,l=null,s=null;return{animate:function(e,t){l=e,s=t,function n(){null===i&&(i=requestAnimationFrame(function(e){var t=e-(a=null===a?e:a),e=(a=e,t/1e3*s);ne(o,r,e="begin"===l?0-e:e),i=null,n()}))}()},stop:function(){null!==i&&(cancelAnimationFrame(i),i=null),a=null}}}function re(e){for(var t=[],n=e.element;n;){var o=z(n);if(o&&!M(n,C)){var r={};switch(o){case i.xy:r.x={animator:oe(n,"x")},r.y={animator:oe(n,"y")};break;case i.x:r.x={animator:oe(n,"x")};break;case i.y:r.y={animator:oe(n,"y")}}t.push({axisAnimations:r,getRect:function(e){return function(){return L(e,e.getBoundingClientRect())}}(n),scrollerElement:n})}n=n.parentElement}return t}function ie(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:ee,i=e.reduce(function(e,t){t=re(t).filter(function(t){return!e.find(function(e){return e.scrollerElement===t.scrollerElement})});return[].concat(P(e),P(t))},[]);return function(e){var t,o,n=e.draggableInfo;e.reset?i.forEach(function(e){e.axisAnimations.x&&e.axisAnimations.x.animator.stop(),e.axisAnimations.y&&e.axisAnimations.y.animator.stop()}):n&&(o=n.mousePosition,i.forEach(function(e){var t=e.axisAnimations,n=(0,e.getRect)();t.x&&(t.x.scrollParams=te(o,"x",n),e.cachedRect=n),t.y&&(t.y.scrollParams=te(o,"y",n),e.cachedRect=n)}),i.forEach(function(e){var t,n,e=e.axisAnimations,o=e.x,e=e.y;o&&(o.scrollParams?(t=(n=o.scrollParams).direction,n=n.speedFactor,o.animator.animate(t,n*r)):o.animator.stop()),e&&(e.scrollParams?(n=(t=e.scrollParams).direction,o=t.speedFactor,e.animator.animate(n,o*r)):e.animator.stop())}),(e=i.filter(function(e){return e.cachedRect})).length&&1<e.length&&((t=function(e,t){for(var n=document.elementFromPoint(t.x,t.y);n;){var o=e.find(function(e){return e.scrollerElement===n});if(o)return o;n=n.parentElement}return null}(e,n.mousePosition))&&e.forEach(function(e){e!==t&&(e.axisAnimations.x&&e.axisAnimations.x.animator.stop(),e.axisAnimations.y&&e.axisAnimations.y.animator.stop())})))}}"undefined"!=typeof window&&((t=Element)&&t.prototype&&!t.prototype.matches&&(t.prototype.matches=t.prototype.matchesSelector||t.prototype.mozMatchesSelector||t.prototype.msMatchesSelector||t.prototype.oMatchesSelector||t.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=--n&&t.item(n)!==this;);return-1<n}),(t=Node||Element)&&t.prototype&&null==t.prototype.firstElementChild&&Object.defineProperty(t.prototype,"firstElementChild",{get:function(){for(var e,t=this.childNodes,n=0;e=t[n++];)if(1===e.nodeType)return e;return null}}),Array.prototype.some||(Array.prototype.some=function(e){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof e)throw new TypeError;for(var t=Object(this),n=t.length>>>0,o=2<=arguments.length?arguments[1]:void 0,r=0;r<n;r++)if(r in t&&e.call(o,t[r],r,t))return!0;return!1}));var t={overflow:"hidden",display:"block"},ae={height:"100%",display:"table-cell","vertical-align":"top"},ae=(e(n={},".".concat(b),{position:"relative","min-height":"30px","min-width":"30px"}),e(n,".".concat(b,".horizontal"),{display:"table"}),e(n,".".concat(b,".horizontal > .").concat(w),{display:"inline-block"}),e(n,".".concat(b,".horizontal > .").concat(v),ae),e(n,".".concat(b,".vertical > .").concat(v),t),e(n,".".concat(v),{"box-sizing":"border-box"}),e(n,".".concat(v,".horizontal"),ae),e(n,".".concat(v,".vertical"),t),e(n,".".concat(v,".animated"),{transition:"transform ease"}),e(n,".".concat(p),{"box-sizing":"border-box"}),e(n,".".concat(p,".animated"),{transition:"all ease-in-out"}),e(n,".".concat(p," *"),{"pointer-events":"none"}),e(n,".".concat(l," *"),{"touch-action":"none","-ms-touch-action":"none"}),e(n,".".concat(E),{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),e(n,".".concat(D),{flex:"1"}),e(n,".".concat(b,".horizontal > .").concat(O),{height:"100%",overflow:"hidden",display:"table-cell","vertical-align":"top"}),e(n,".".concat(b,".vertical > .").concat(O),{overflow:"hidden",display:"block",width:"100%"}),e(n,".".concat(R),{width:"100%",height:"100%",display:"flex","justify-content":"stretch","align-items":"stretch"}),e(n,".".concat(S),{"background-color":"rgba(150, 150, 150, 0.1)",border:"1px solid #ccc"}),n);function le(o){return Object.keys(o).reduce(function(e,t){var n=o[t];return"object"===B(n)?"".concat(e).concat(t,"{").concat(le(n),"}"):"".concat(e).concat(t,":").concat(n,";")},"")}function se(e){var t,n;return e&&"undefined"!=typeof window?(t=window.document.head||window.document.getElementsByTagName("head")[0],n=window.document.createElement("style"),e=le({"body *":{cursor:"".concat(e," !important")}}),n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(window.document.createTextNode(e)),t.appendChild(n),n):null}var ce,ue,de=["mousedown","touchstart"],fe=["mousemove","touchmove"],ge=["mouseup","touchend"],s=null,me=null,c=null,u=null,d=[],pe=!1,he=!1,ve=!1,ye=!1,be=null,f=null,we=null,xe=null,Ee=(ce=null,ue=!1,{start:function(){ue||(ue=!0,function e(){ce=requestAnimationFrame(function(){s.forEach(function(e){return e.layout.invalidateRects()}),setTimeout(function(){null!==ce&&e()},50)})}())},stop:function(){null!==ce&&(cancelAnimationFrame(ce),ce=null),ue=!1}}),Ce="undefined"!=typeof window&&!!(window.navigator.userAgent.match(/Android/i)||window.navigator.userAgent.match(/webOS/i)||window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/iPod/i)||window.navigator.userAgent.match(/BlackBerry/i)||window.navigator.userAgent.match(/Windows Phone/i));function Se(){"undefined"!=typeof window&&de.forEach(function(e){window.document.addEventListener(e,Ve,{passive:!1})})}function De(){return u&&u.ghostParent?u.ghostParent:me&&me.parentElement||window.document.body}function Oe(e,t,n,o){var r=t.x,t=t.y,i=e.getBoundingClientRect(),a=i.left,l=i.top,u=i.right,d=i.bottom,s=(s=n.layout.getContainerRectangles().visibleRect,i=i,{left:Math.max(s.left,i.left),top:Math.max(s.top,i.top),right:Math.min(s.right,i.right),bottom:Math.min(s.bottom,i.bottom)}),i=s.left+(s.right-s.left)/2,s=s.top+(s.bottom-s.top)/2,c=e.cloneNode(!0);return c.style.zIndex="1000",c.style.boxSizing="border-box",c.style.position="fixed",c.style.top="0px",c.style.left="0px",c.style.transform=null,c.style.removeProperty("transform"),n.shouldUseTransformForGhost()?c.style.transform="translate3d(".concat(a,"px, ").concat(l,"px, 0)"):(c.style.top="".concat(l,"px"),c.style.left="".concat(a,"px")),c.style.width=u-a+"px",c.style.height=d-l+"px",c.style.overflow="visible",c.style.transition=null,c.style.removeProperty("transition"),c.style.pointerEvents="none",c.style.userSelect="none",n.getOptions().dragClass?setTimeout(function(){Y(c.firstElementChild,n.getOptions().dragClass);var e=window.getComputedStyle(c.firstElementChild).cursor;xe=se(e)}):xe=se(o),Y(c,n.getOptions().orientation||"vertical"),Y(c,p),{ghost:c,centerDelta:{x:i-r,y:s-t},positionDelta:{left:a-r,top:l-t},topLeft:{x:a,y:l}}}function Re(e){function r(){k(c.ghost,"animated"),c.ghost.style.transitionDuration=null,De().removeChild(c.ghost),e()}function t(e,t,n){var o=e.top,e=e.left;Y(c.ghost,"animated"),n&&Y(c.ghost.firstElementChild,n),c.topLeft.x=e,c.topLeft.y=o,ot(t),setTimeout(function(){r()},t+20)}function n(e,t){Y(c.ghost,"animated"),ot(e,.9,!0),setTimeout(function(){t()},e+20)}var o,i,a,l;u.targetElement?(a=d.filter(function(e){return e.element===u.targetElement})[0],!(l=a.getOptions()).shouldAnimateDrop||l.shouldAnimateDrop(u.container.getOptions(),u.payload)?t(a.getDragResult().shadowBeginEnd.rect,Math.max(150,a.getOptions().animationDuration/2),a.getOptions().dropClass):r()):(l=d.filter(function(e){return e===u.container})[0])?(o=(a=l.getOptions()).behaviour,a=a.removeOnDropOut,"move"!==o&&"contain"!==o||!he&&a||!l.getDragResult()?n(l.getOptions().animationDuration,r):!q((o=l.layout.getContainerRectangles()).visibleRect)&&q(o.lastVisibleRect)?t({top:o.lastVisibleRect.top,left:o.lastVisibleRect.left},l.getOptions().animationDuration,l.getOptions().dropClass):(o=(a=l.getDragResult()).removedIndex,a=a.elementSize,i=l.layout,l.getTranslateCalculator({dragResult:{removedIndex:o,addedIndex:o,elementSize:a,pos:void 0,shadowBeginEnd:void 0}}),a=0<o?i.getBeginEnd(l.draggables[o-1]).end:i.getBeginEndOfContainer().begin,t(i.getTopLeftOfElementBegin(a),l.getOptions().animationDuration,l.getOptions().dropClass))):n(I.animationDuration,r)}Te=1,ze=5;var Ae,Ie,Be,Pe,Te,ze,Ne=function(e,t,n){Ae=$e(e),Be=n,(Ie="number"==typeof t?t:Ce?200:0)&&(Pe=setTimeout(Fe,Ie)),fe.forEach(function(e){return window.document.addEventListener(e,Le)},{passive:!1}),ge.forEach(function(e){return window.document.addEventListener(e,Me)},{passive:!1}),window.document.addEventListener("drag",je,{passive:!1})};function Le(e){var e=$e(e),t=e.clientX,e=e.clientY;if(Ie)(Math.abs(Ae.clientX-t)>ze||Math.abs(Ae.clientY-e)>ze)&&_e();else if(Math.abs(Ae.clientX-t)>Te||Math.abs(Ae.clientY-e)>Te)return Fe()}function Me(){_e()}function je(){_e()}function _e(){clearTimeout(Pe),fe.forEach(function(e){return window.document.removeEventListener(e,Le)},{passive:!1}),ge.forEach(function(e){return window.document.removeEventListener(e,Me)},{passive:!1}),window.document.removeEventListener("drag",je,{passive:!1})}function Fe(){clearTimeout(Pe),_e(),Be()}function Ve(e){var t,n,o,r,i,a=$e(e);pe||void 0!==a.button&&0!==a.button||(me=H(a.target,"."+v))&&(t=H(me,"."+b),o=(n=d.filter(function(e){return e.element===t})[0]).getOptions().dragHandleSelector,r=n.getOptions().nonDragAreaSelector,i=!0,o&&!H(a.target,o)&&(i=!1),(i=r&&H(a.target,r)?!1:i)&&(n.layout.invalidate(),Y(window.document.body,l),Y(window.document.body,E),window.document.addEventListener("mouseup",function e(){k(window.document.body,l),k(window.document.body,E),window.document.removeEventListener("mouseup",e)})),i&&Ne(a,n.getOptions().dragBeginDelay,function(){G(),et(a,W(e.target)),fe.forEach(function(e){window.document.addEventListener(e,Xe,{passive:!1})}),ge.forEach(function(e){window.document.addEventListener(e,Ue,{passive:!1})})}))}function Xe(e){e.preventDefault();var t,n=$e(e);u?("contain"===(t=u.container.getOptions()).behaviour?function(e,t){var n,o,r,i=e.clientX,e=e.clientY,t=1<arguments.length&&void 0!==t?t:"vertical",a=u.container.layout.getBeginEndOfContainerVisibleRect(),t="vertical"===t?(n=e,o="y",r="top",u.size.offsetHeight):(n=i,o="x",r="left",u.size.offsetWidth),e=a.begin,i=a.end-t,e=Math.max(e,Math.min(i,n+c.positionDelta[r]));c.topLeft[o]=e,u.position[o]=Math.max(a.begin,Math.min(a.end,n+c.centerDelta[o])),u.mousePosition[o]=Math.max(a.begin,Math.min(a.end,n)),u.position[o]<a.begin+t/2&&(u.position[o]=a.begin+2),u.position[o]>a.end-t/2&&(u.position[o]=a.end-2)}(n,t.orientation):we?"y"===we?(c.topLeft.y=n.clientY+c.positionDelta.top,u.position.y=n.clientY+c.centerDelta.y,u.mousePosition.y=n.clientY):"x"===we&&(c.topLeft.x=n.clientX+c.positionDelta.left,u.position.x=n.clientX+c.centerDelta.x,u.mousePosition.x=n.clientX):(c.topLeft.x=n.clientX+c.positionDelta.left,c.topLeft.y=n.clientY+c.positionDelta.top,u.position.x=n.clientX+c.centerDelta.x,u.position.y=n.clientY+c.centerDelta.y,u.mousePosition.x=n.clientX,u.mousePosition.y=n.clientY),ot(),(ye=!be(u))&&We()):et(n,W(e.target))}He=qe,ke=!(Ye=20);var He,Ye,ke,Ge,We=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ge&&clearTimeout(Ge),ke&&!Ge?He.call.apply(He,[null].concat(t)):Ge=setTimeout(function(){Ge=null,He.call.apply(He,[null].concat(t))},Ye)};function qe(){ye&&(ye=!1,Je(u,s))}function Ue(){var e;fe.forEach(function(e){window.document.removeEventListener(e,Xe,{passive:!1})}),ge.forEach(function(e){window.document.removeEventListener(e,Ue,{passive:!1})}),f({reset:!0}),xe&&((e=xe)&&"undefined"!=typeof window&&(window.document.head||window.document.getElementsByTagName("head")[0]).removeChild(e),xe=null),u&&(Ee.stop(),qe(),ve=!0,Re(function(){Ze(pe=!1);for(var e=s||[],t=e.shift();void 0!==t;)t.handleDrop(u),t=e.shift();be=we=u=c=me=s=null,ve=!1}))}function $e(e){return e.touches?e.touches[0]:e}function Je(t,e){var n=!1;e.forEach(function(e){e=e.handleDrag(t);n=!!e.containerBoxChanged||!1,e.containerBoxChanged=!1}),n&&(n=!1,requestAnimationFrame(function(){d.forEach(function(e){e.layout.invalidateRects(),e.onTranslated()})}))}function Ke(e){var t=e,n=null;return function(e){return!(null!==n||!pe||ve)&&(n=requestAnimationFrame(function(){pe&&!ve&&(Je(e,t),f({draggableInfo:e})),n=null}),!0)}}function Qe(e,t){return e.getOptions().autoScrollEnabled?ie(t,e.getScrollMaxSpeed()):function(e){return null}}function Ze(o){d.forEach(function(e){var t,n=o?e.getOptions().onDragStart:e.getOptions().onDragEnd;n&&(t={isSource:e===u.container,payload:u.payload},e.isDragRelevant(u.container,u.payload)?t.willAcceptDrop=!0:t.willAcceptDrop=!1,n(t))})}function et(e,t){var n,o,r,i,a,l;null!==me&&(pe=!0,(n=d.filter(function(e){return me.parentElement===e.element})[0]).setDraggables(),we=n.getOptions().lockAxis?n.getOptions().lockAxis.toLowerCase():null,o=me,r=d.filter(function(e){return o.parentElement===e.element})[0],i=r.draggables.indexOf(o),a=r.getOptions().getGhostParent,l=o.getBoundingClientRect(),u={container:r,element:o,size:{offsetHeight:l.bottom-l.top,offsetWidth:l.right-l.left},elementIndex:i,payload:r.getOptions().getChildPayload?r.getOptions().getChildPayload(i):void 0,targetElement:null,position:{x:0,y:0},groupName:r.getOptions().groupName,ghostParent:a?a():null,invalidateShadow:null,mousePosition:null,relevantContainers:null},c=Oe(me,{x:e.clientX,y:e.clientY},u.container,t),u.position={x:e.clientX+c.centerDelta.x,y:e.clientY+c.centerDelta.y},u.mousePosition={x:e.clientX,y:e.clientY},s=d.filter(function(e){return e.isDragRelevant(n,u.payload)}),u.relevantContainers=s,be=Ke(s),f&&f({reset:!0,draggableInfo:void 0}),f=Qe(n,s),s.forEach(function(e){return e.prepareDrag(e,s)}),Ze(!0),be(u),De().appendChild(c.ghost),Ee.start())}var n,tt,nt=Ge=Pe=null;function ot(e,t,n){var e=0<arguments.length&&void 0!==e?e:0,t=1<arguments.length&&void 0!==t?t:1,o=2<arguments.length&&void 0!==n&&n,n=c,r=n.ghost,n=n.topLeft,i=n.x,a=n.y,l=!u.container||u.container.shouldUseTransformForGhost(),s=l?"translate3d(".concat(i,"px,").concat(a,"px, 0)"):null;if(1!==t&&(s=(s?"".concat(s," scale("):"scale(").concat(t,")")),0<e)return c.ghost.style.transitionDuration=e+"ms",void requestAnimationFrame(function(){s&&(r.style.transform=s),l||(r.style.left=i+"px",r.style.top=a+"px"),nt=null,o&&(r.style.opacity="0")});null===nt&&(nt=requestAnimationFrame(function(){s&&(r.style.transform=s),l||(r.style.left=i+"px",r.style.top=a+"px"),nt=null,o&&(r.style.opacity="0")}))}function rt(){var t;!pe||he||ve||(ye=!(he=!0),t=Object.assign({},u,{targetElement:null,position:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER},mousePosition:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER}}),s.forEach(function(e){e.handleDrag(t)}),u.targetElement=null,u.cancelDrop=!0,Ue(),he=!1)}"undefined"!=typeof window&&"undefined"!=typeof window&&(n=window.document.head||window.document.getElementsByTagName("head")[0],(tt=window.document.createElement("style")).id="smooth-dnd-style-definitions",ae=le(ae),tt.type="text/css",tt.styleSheet?tt.styleSheet.cssText=ae:tt.appendChild(window.document.createTextNode(ae)),n.appendChild(tt));Se();var it={register:function(e){e=e,d.push(e),pe&&u&&e.isDragRelevant(u.container,u.payload)&&(s.push(e),e.prepareDrag(e,s),f&&f({reset:!0,draggableInfo:void 0}),f=Qe(e,s),be=Ke(s),e.handleDrag(u))},unregister:function(e){var t;e=e,d.splice(d.indexOf(e),1),pe&&u&&(u.container===e&&e.fireRemoveElement(),u.targetElement===e.element&&(u.targetElement=null),-1<(t=s.indexOf(e))&&(s.splice(t,1),f&&f({reset:!0,draggableInfo:void 0}),f=Qe(e,s),be=Ke(s)))},isDragging:function(){return pe},cancelDrag:rt};function at(e,t,n){n=2<arguments.length&&void 0!==n?n:I.animationDuration;t?(Y(e,a),e.style.transitionDuration=n+"ms"):(k(e,a),e.style.removeProperty("transition-duration"))}function lt(r){var i=[];return Array.prototype.forEach.call(r.children,function(e){var t,n,o;e.nodeType===Node.ELEMENT_NODE?(M(t=e,v)||(n=e,t=y.wrapChild?((o=window.document.createElement("div")).className="".concat(v),n.parentElement.insertBefore(o,n),o.appendChild(n),o):n),t[g]=0,i.push(t)):r.removeChild(e)}),i}function st(e){function s(e,t,n,o){var r,i,a,l=4<arguments.length&&void 0!==arguments[4]&&arguments[4];return o<n?n:n===o?(a=(r=c.getBeginEnd(e[n])).begin,r=r.end,!l||t<(r+a)/2?n:n+1):(r=Math.floor((o+n)/2),i=(a=c.getBeginEnd(e[r])).begin,a=a.end,t<i?s(e,t,n,r-1,l):a<t?s(e,t,r+1,o,l):!l||t<(a+i)/2?r:r+1)}var c=e.layout;return function(e,t){return s(e,t,0,e.length-1,2<arguments.length&&void 0!==arguments[2]&&arguments[2])}}function ct(e){var t,n,o,r=e.element,i=e.draggables,a=e.layout,l=e.getOptions,s=(t=(e={element:r,draggables:i,layout:a,getOptions:l}).element,n=e.draggables,o=e.layout,function(){n.forEach(function(e){at(e,!1),o.setTranslation(e,0),o.setVisibility(e,!0)}),t[x]&&(t[x].parentNode.removeChild(t[x]),t[x]=null)}),c=(y.dropHandler||U)({element:r,draggables:i,layout:a,getOptions:l});return function(e,t){var n=t.addedIndex,t=t.removedIndex,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];s(),e.cancelDrop||(e.targetElement||l().removeOnDropOut||o)&&(o={removedIndex:t,addedIndex:null!==n?null!==t&&t<n?n-1:n:null,payload:e.payload,droppedElement:e.element?e.element.firstElementChild:null},c(o,l().onDrop))}}function ut(e){var n=e.element,o=e.getOptions,r=null;return function(e){var e=e.draggableInfo,t=r;return{removedIndex:t=null==r&&e.container.element===n&&"copy"!==o().behaviour?r=e.elementIndex:t}}}function dt(e){var t=e.draggables,n=e.layout;return function(e){e=e.dragResult;null!==e.removedIndex&&n.setVisibility(t[e.removedIndex],!1)}}function ft(e){var n=e.element,o=e.layout;return function(e){var e=e.draggableInfo,t=document.elementFromPoint(e.position.x,e.position.y);if(t){t=function(e,n){for(var o=e;o;){if(o[r]){var t=function(){var t=o[r];if(n.some(function(e){return e===t}))return{v:t}}();if("object"===B(t))return t.v}o=o.parentElement}return null}(t,e.relevantContainers);if(t&&t.element===n)return{pos:o.getPosition(e.position)}}return{pos:null}}}function gt(e){var n=e.layout,o=null;return function(e){var t=e.draggableInfo;return null===e.dragResult.pos?o=null:{elementSize:o=o||n.getSize(t.size)}}}function mt(e){var n=e.element;return function(e){var t=e.draggableInfo,e=e.dragResult;!function(e,t,n){t&&(!(2<arguments.length&&void 0!==n)||n)?e.targetElement=t:e.targetElement===t&&(e.targetElement=null)}(t,n,!!e.pos)}}function pt(){return function(e){return null!==e.dragResult.pos?{addedIndex:0}:{addedIndex:null}}}function ht(e){var n=e.layout,o=null;return function(e){var t,e=e.dragResult.addedIndex;return e!==o?(o=e,t=(e=n.getBeginEndOfContainer()).begin,e.end,{shadowBeginEnd:{rect:n.getTopLeftOfElementBegin(t)}}):null}}function vt(e){var c=e.layout,u=e.element,d=e.getOptions,f=null;return function(e){var t,n,o,r,e=e.dragResult,i=e.elementSize,a=e.shadowBeginEnd,l=e.addedIndex,e=e.dropPlaceholderContainer,s=d();return s.dropPlaceholder?(t=(s="boolean"==typeof s.dropPlaceholder?{}:s.dropPlaceholder).animationDuration,n=s.className,s=s.showOnTop,null===l?(e&&null!==f&&u.removeChild(e),f=null,{dropPlaceholderContainer:void 0}):(e||(o=document.createElement("div"),(r=document.createElement("div")).className=R,o.className="".concat(D," ").concat(n||S),(e=document.createElement("div")).className="".concat(O),e.style.position="absolute",void 0!==t&&(e.style.transition="all ".concat(t,"ms ease")),e.appendChild(r),r.appendChild(o),c.setSize(e.style,i+"px"),e.style.pointerEvents="none",s?u.appendChild(e):u.insertBefore(e,u.firstElementChild)),f!==l&&a.dropArea&&c.setBegin(e.style,a.dropArea.begin-c.getBeginEndOfContainer().begin+"px"),f=l,{dropPlaceholderContainer:e})):null}}function yt(e){var n=Ct(e);return function(e){var t=e.draggableInfo,e=e.dragResult;return t.invalidateShadow?n({draggableInfo:t,dragResult:e}):null}}function bt(e){n=e.draggables,o=st({layout:e.layout});var n,o,r=function(e){var e=e.dragResult,t=e.shadowBeginEnd,e=e.pos;return t?t.begin+t.beginAdjustment<=e&&t.end>=e?null:e<t.begin+t.beginAdjustment?o(n,e):e>t.end?o(n,e)+1:n.length:null!==(t=o(n,e,!0))?t:n.length};return function(e){var e=e.dragResult,t=null;return{addedIndex:t=null!==e.pos&&null===(t=r({dragResult:e}))?e.addedIndex:t}}}function wt(){var n=null;return function(e){var e=e.dragResult,t=e.addedIndex,e=e.shadowBeginEnd;t!==n&&null!==n&&e&&(e.beginAdjustment=0),n=t}}function xt(e){var o=e.element,r=e.draggables,i=e.layout,a=e.getOptions,l=null;return function(e){var e=e.dragResult,t=e.addedIndex,n=e.removedIndex,e=e.elementSize;if(null===n)if(null!==t){if(!l){n=i.getBeginEndOfContainer();n.end=n.begin+i.getSize(o);var t=i.getScrollSize(o)>i.getSize(o)?n.begin+i.getScrollSize(o)-i.getScrollValue(o):n.end,n=0<r.length?i.getBeginEnd(r[r.length-1]).end-r[r.length-1][g]:n.begin;if(t<n+e)return(l=window.document.createElement("div")).className=w+" "+a().orientation,n=0<r.length?e+n-t:e,i.setSize(l.style,"".concat(n,"px")),o.appendChild(l),o[x]=l,{containerBoxChanged:!0}}}else if(l)return i.setTranslation(l,0),t=l,l=null,o.removeChild(t),{containerBoxChanged:!(o[x]=null)}}}function Et(e){var l=e.draggables,s=e.layout,c=null,u=null;return function(e){var e=e.dragResult,t=e.addedIndex,n=e.removedIndex,o=e.elementSize;if(t!==c||n!==u){for(var r,i,a=0;a<l.length;a++)a!==n&&(r=l[a],i=0,null!==n&&n<a&&(i-=o),null!==t&&t<=a&&(i+=o),s.setTranslation(r,i));return{addedIndex:c=t,removedIndex:u=n}}}}function Ct(e){var d=e.draggables,f=e.layout,g=null;return function(e){var t,u,n,o,r,i=e.draggableInfo,e=e.dragResult,a=e.addedIndex,l=e.removedIndex,s=e.elementSize,c=e.pos,e=e.shadowBeginEnd;return null===c?{shadowBeginEnd:g=null}:null===a||!i.invalidateShadow&&a===g?null:(c=a-1,i=Number.MIN_SAFE_INTEGER,u=t=0,n=o=null,c===l&&c--,t=-1<c?(r=f.getSize(d[c]),n=f.getBeginEnd(d[c]),i=s<r?n.end-(r-s)/2:n.end,n.end):(n={end:f.getBeginEndOfContainer().begin},f.getBeginEndOfContainer().begin),c=Number.MAX_SAFE_INTEGER,(r=a)===l&&r++,u=r<d.length?(l=f.getSize(d[r]),o=f.getBeginEnd(d[r]),c=s<l?o.begin+(l-s)/2:o.begin,o.begin):(o={begin:f.getContainerRectangles().rect.end},f.getContainerRectangles().rect.end-f.getContainerRectangles().rect.begin),r=n&&o?f.getTopLeftOfElementBegin(n.end):null,g=a,{shadowBeginEnd:{dropArea:{begin:t,end:u},begin:i,end:c,rect:r,beginAdjustment:e?e.beginAdjustment:0}})}}function St(){var o=null;return function(e){var e=e.dragResult,t=e.pos,n=e.addedIndex,e=e.shadowBeginEnd;null!==t?null!=n&&null===o&&(t<e.begin&&(t=t-e.begin-5,e.beginAdjustment=t),o=n):o=null}}function Dt(e){var e=e.getOptions,t=!1,n=e();return function(e){e=!!e.dragResult.pos;e!==t&&((t=e)?n.onDragEnter&&n.onDragEnter():n.onDragLeave&&n.onDragLeave())}}function Ot(e){var e=e.getOptions,i=null,a=e();return function(e){var t,n=e.dragResult,o=n.addedIndex,n=n.removedIndex,e=e.draggableInfo,r=e.payload,e=e.element;a.onDropReady&&null!==o&&i!==o&&(t=i=o,null!==n&&n<o&&t--,a.onDropReady({addedIndex:t,removedIndex:n,payload:r,element:e?e.firstElementChild:void 0}))}}function Rt(e){return"drop-zone"===e.getOptions().behaviour?At(e)(ut,dt,ft,gt,mt,pt,ht,Dt,Ot):At(e)(ut,dt,ft,gt,mt,yt,bt,wt,xt,Et,Ct,vt,St,Dt,Ot)}function At(i){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t.map(function(e){return e(i)}),r=null;return function(n){return r=o.reduce(function(e,t){return Object.assign(e,t({draggableInfo:n,dragResult:e}))},r||{addedIndex:null,removedIndex:null,elementSize:null,pos:null,shadowBeginEnd:null})}}}function It(h){return function(e){var t,n,o,r,u,i=Object.assign({},I,e),a=null,l=null,s=(e=p,o=lt(t=h),n=e(),Y(t,"".concat(b," ").concat(n.orientation)),{element:t,draggables:o,getOptions:e,layout:Z(t,n.orientation,n.animationDuration)}),c=Rt(s),d=ct(s),f=X(h,function(){s.layout.invalidateRects(),g()});function g(){null!==l&&(l.invalidateShadow=!0,a=c(l),l.invalidateShadow=!1)}function m(e,t){for(var n=lt(t),o=0;o<n.length;o++)e[o]=n[o];for(var r=0;r<e.length-n.length;r++)e.pop()}function p(){return i}return{element:h,draggables:s.draggables,isDragRelevant:(r=(o=s).element,u=o.getOptions,function(e,t){var n=u();if(n.shouldAcceptDrop)return n.shouldAcceptDrop(e.getOptions(),t);t=e.getOptions();return"copy"!==n.behaviour&&(H(r,"."+v)!==e.element&&(e.element===r||!(!t.groupName||t.groupName!==n.groupName)))}),layout:s.layout,dispose:function(e){var t;f.dispose(),t=e.element,y.wrapChild&&Array.prototype.forEach.call(t.children,function(e){e.nodeType===Node.ELEMENT_NODE&&M(e,v)&&(t.insertBefore(e.firstElementChild,e),t.removeChild(e))})},prepareDrag:function(e,t){var n=e.element,o=s.draggables;m(o,n),e.layout.invalidateRects(),o.forEach(function(e){return at(e,!0,i.animationDuration)}),f.start()},handleDrag:function(e){return a=c(l=e)},handleDrop:function(e){f.stop(),a&&a.dropPlaceholderContainer&&h.removeChild(a.dropPlaceholderContainer),l=null,c=Rt(s),d(e,a),a=null},fireRemoveElement:function(){d(l,Object.assign({},a,{addedIndex:null}),!0),a=null},getDragResult:function(){return a},getTranslateCalculator:function(e){return Et(s)(e)},onTranslated:function(){g()},setDraggables:function(){m(s.draggables,h)},getScrollMaxSpeed:function(){return y.maxScrollSpeed},shouldUseTransformForGhost:function(){return!0===y.useTransformForGhost},getOptions:p,setOptions:function(e){i=!1===(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])?Object.assign({},I,e):Object.assign({},I,i,e)}}}}var y=function(e,t){var n=It(e)(t);return e[r]=n,it.register(n),{dispose:function(){it.unregister(n),n.dispose(n)},setOptions:function(e,t){n.setOptions(e,t)}}};function Bt(e,t,n){Object.defineProperty(e,n,{set:function(e){t[n]=e},get:function(){return t[n]}})}y.wrapChild=!0,y.cancelDrag=function(){it.cancelDrag()},y.isDragging=function(){return it.isDragging()};function Pt(e,t){return console.warn('default export is deprecated. please use named export "smoothDnD"'),y(e,t)}Pt.cancelDrag=function(){y.cancelDrag()},Pt.isDragging=function(){return y.isDragging()},Bt(Pt,y,"useTransformForGhost"),Bt(Pt,y,"maxScrollSpeed"),Bt(Pt,y,"wrapChild"),Bt(Pt,y,"dropHandler"),o.smoothDnD=y,o.constants=A,o.dropHandlers=$,o.default=Pt,Object.defineProperty(o,"__esModule",{value:!0})});
